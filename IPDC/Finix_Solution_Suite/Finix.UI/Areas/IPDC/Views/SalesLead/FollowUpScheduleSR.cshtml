@{
    ViewBag.Title = "FollowUpScheduleSR";
    Layout = "~/Views/Shared/_LayoutjqGrid.cshtml";
}
@*<script src="~/Areas/IPDC/Scripts/CIF/CIF_Edit_2.js"></script>*@
<script src="~/Areas/IPDC/Scripts/SalesLead/FollowUpScheduleSR.js"></script>
<link href="~/Content/customassets/css/FollowUpScheduleSR.css" rel="stylesheet" />
<link href="~/Content/bootstrap-datetimepicker.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-datetimepicker.js"></script>
<style>
    .btn-q {
        width:auto;
        min-width: 120px;
        max-width: 200px;
    }
</style>
<!---vvvvvvv----Body Main Starts here---vvvvvv----->

<section class="panel-bodycontent">
    <div class="container-fluid ">

        <div class="row">

            <!--<section class="panel-bodycontent">-->
            <header class="panel-heading bodytitle">

                <h2 class="panel-title font"><b>Sales Lead List</b></h2>

            </header>
            <div class="body-main-padding" id="followUpScheduleSR">

                <div class="form-group table-responsive">
                    <div class="PrintReport">

                        <table class="table table-striped table-bordered">
                            <thead class="headcolor">
                                <tr>
                                    <th>Name</th>
                                    @*<th>Address</th>*@
                                    <th>Thana</th>
                                    <th>District</th>
                                    <th>Followup Time</th>
                                    <th>Loan Type</th>
                                    <th>Expected Amount</th>
                                    <th>Lead Priority</th>
                                    <th>Preview</th>
                                </tr>
                            </thead>
                            <tbody data-bind="foreach:SalesLeadList">
                                <tr>
                                    <td class="fo"><span data-bind="text: CustomerName"></span></td>
                                    @*<td class="fo"><span data-bind="text: Address"></span></td>*@
                                    <td class="fo"><span data-bind="text: CustomerAddress.ThanaName"></span></td>
                                    <td class="fo"><span data-bind="text: CustomerAddress.DistrictName"></span></td>
                                    <td class="fo"><span data-bind="text: moment(FollowupTime).format('DD/MM/YYYY hh:mm A')"></span></td>
                                    <td class="fo"><span data-bind="text: ProductName"></span></td>
                                    <td class="fo"><span data-bind="text: Amount"></span></td>
                                    <td class="fo"><span data-bind="text: LeadPriorityName"></span></td>
                                    <td>
                                        <button type="button" class="btn-i btn-info" aria-label="justify" data-toggle="modal" data-bind="click: $parent.LoadDetailData" data-target="#myModal">
                                            <span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            <!-- preview modal start -->
            <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog modal-lg">

                    <!-- Modal content-->
                    <div class="modal-content" style="margin-left:0px;">
                        <div class="modal-header"  style="padding: 0px 0px;">

                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                            <h4 class="modal-title">Preview</h4>


                        </div>
                        <div class="modal-body" align="center" style="padding: 10px 10px 10px 10px;">

                            <div class="ui-jqdialog-content ui-widget-content" id="leadDetailData">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Name</label>
                                            <span class="col-sm-8" data-bind="text:Name" style="text-align:left;"></span>
                                        </div>
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Address</label>
                                            <span class="col-sm-8" data-bind="text:Address" style="text-align:left;"></span>
                                        </div>
                                        @*<div class="row">
                                                <label class="col-sm-2" style="text-align:left;">Thana</label>
                                                <span class="col-sm-6" data-bind="text:ThanaName" style="text-align:left;"></span>
                                            </div>
                                            <div class="row">
                                                <label class="col-sm-2" style="text-align:left;">District</label>
                                                <span class="col-sm-6" data-bind="text:DistrictName" style="text-align:left;"></span>
                                            </div>*@
                                        @*<div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Followup Time</label>
                                            <span class="col-sm-8" data-bind="text: FollowUpCallTimeText" style="text-align:left;"></span>
                                        </div>*@
                                        @*<div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Lead Type</label>
                                            <span class="col-sm-8" data-bind="text:LeadTypeName" style="text-align:left;"></span>
                                        </div>*@
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Customer Priority</label>
                                            <span class="col-sm-8" data-bind="text:CustomerPriorityName" style="text-align:left;"></span>
                                        </div>
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Lead Priority</label>
                                            <span class="col-sm-8" data-bind="text:LeadPriorityName" style="text-align:left;"></span>
                                        </div>
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Product</label>
                                            <span class="col-sm-8" data-bind="text:ProductName" style="text-align:left;"></span>
                                        </div>
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Amount</label>
                                            <span class="col-sm-8" data-bind="text:AmountFormatted" style="text-align:left;"></span>
                                        </div>
                                        @*<div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Lead Status</label>
                                            <span class="col-sm-8" data-bind="text:LeadStatusName" style="text-align:left;"></span>
                                        </div>*@

                                        @*<div class="row">
                                                <label class="col-sm-6" style="text-align:left;">Expected Amount</label>
                                                <span class="col-sm-6" data-bind="text:LoanTypeName" style="text-align:left;"></span>
                                            </div>*@
                                        <div class="row">
                                            <label class="col-sm-4" style="text-align:left;">Customer Sensitivity</label>
                                            <span class="col-sm-8" data-bind="text:CustomerSensitivityName" style="text-align:left;"></span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <td colspan="4">Call Log</td>
                                                </tr>
                                                <tr>
                                                    <td>Call Time</td>
                                                    <td>Call Type</td>
                                                    <td>Remarks</td>
                                                    <td>Next Followup</td>
                                                </tr>
                                            </thead>
                                            <tbody data-bind="foreach: CallLog">
                                                <tr>
                                                    <td data-bind="text: moment(CallTime).format('DD/MM/YYYY hh:mm A')"></td>
                                                    <td data-bind="text: FollowupTypeName"></td>
                                                    <td data-bind="text: Remarks"></td>
                                                    <td data-bind="text: moment(NextFollowUp).format('DD/MM/YYYY hh:mm A')"></td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <h4 class="headcolor">Actions</h4>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <button class="btn-q btn-success" data-bind="click: AddCIF">Add CIF Personal</button>
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn-q btn-success" data-bind="click: AddCIFOrg">Add CIF Org</button>
                                            </div>
                                            <div class="col-sm-2" >
                                                <button class="btn-q btn-success" data-bind="click: AddApplication, enable:ApplicationId() <= 0">Add App</button>
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn-q btn-success" data-bind="click: EditApplication, enable:ApplicationId() > 0 ">Edit App</button>
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn-q btn-success" data-bind="click: SendMessage, enable:ApplicationId() > 0 ">Send a Message</button>
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn-q btn-success" data-bind="click:SubmitApplication, enable:ApplicationId() > 0">Forward to TL/BM</button>
                                            </div>
                                            <br/>
                                            <div class="col-sm-2 col-sm-offset-5" style="margin-top: 10px;">
                                                <button class="btn-q btn-danger" data-dismiss="modal">Cancel</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-footer"></div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- preview modal Ends  -->

            <!-- success modal start -->
            <div id="appForwardSuccessModal" class="modal fade" role="dialog">
                <div class="modal-dialog modal-sm">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Response</h4>
                        </div>
                        <div class="modal-body" align="center">
                            <p id="appForwardSuccessModalText"></p>

                            <button type="button" class="btn btn-success" data-dismiss="modal">Ok</button>

                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>

                </div>
            </div>
            <!-- success modal Ends -->

            <!-- </section>-->

        </div>


        <!---^^^^^^^----Assign modal Ends here----^^^^^^^---->
    </div>
</section>






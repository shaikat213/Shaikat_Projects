<link href="~/Content/bootstrap-datetimepicker.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap-datetimepicker.js"></script>
<script src="~/Scripts/jquery-ui-1.11.4.min.js"></script>
<script src="~/Scripts/moment.js"></script>
<script src="~/Scripts/knockout-date-bindings.js"></script>
<script src="~/Areas/IPDC/Scripts/SalesLead/salesLeadFollowup.js"></script>
<link href="~/Content/customassets/css/salesLead.css" rel="stylesheet" />
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutjqGrid.cshtml";
}


<section class="panel-bodycontent">
    <header class="panel-heading bodytitle">

        <h2 class="panel-title font"><b>Sales Lead FollowUp</b></h2>

    </header>
    <fieldset style="border: 1px solid #C4C4C4; border-radius:0px 0px 5px 5px;">

        <div id="salesLeadList">

            <section>
                <div class="container-fluid ">

                </div>
                <form role="form" class="form-horizontal">
                    <table class="table table-striped table-bordered">
                        <thead class="followup">
                            <tr>
                                <!--<th type="hidden" class="center"></th>-->
                                <th class="center">Name</th>
                                <th class="center">Phone</th>
                                <th class="center">FollowUp Time</th>
                                <th class="center"></th>
                                <th class="center"></th>
                                <th class="center"></th>
                                <th class="center"></th>

                            </tr>
                        </thead>
                        <tbody data-bind="foreach:proSalesLeadList">

                            <tr>
                                <!--<td><input type="hidden" data-bind="value:Id" /></td>-->
                                <td class="fo" data-bind="text: Name"></td>
                                <td class="fo" data-bind="text: Phone"></td>
                                <td class="fo" data-bind="text: moment(FollowUpCallTime).format('DD/MMM/YYYY')"></td>
                                <td><button type="button" data-bind="click: $root.questionnaire" class="btn-q btn-success">Questionnaire</button></td>
                                <td><button type="button" data-bind="click: $root.followupTime" class="btn-q btn-warning">FollowUp</button></td>
                                <td>
                                    <button type="button" data-bind="click: $root.edit" class="btn-i btn-info" aria-label="justify">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </button>
                                </td>
                                <td>
                                    <button type="button" data-bind="click: $root.details" class="btn-i btn-info" aria-label="justify">
                                        <span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </section>
            <div class="modal fade" id="followup" role="dialog">
                <div class="modal-dialog-followUp modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 0px 0px;">
                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                            <ul class="nav nav-tabs nav-justified" role="tablist">

                                @*<li><a href="#questionnaire" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-user"></span>Basic Information</a></li>*@
                                <li><a href="#followup" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-time"></span>Follow Up Call Time</a></li>

                            </ul>
                        </div>
                        <div class="modal-body" style="padding: 10px 10px 10px 10px;">
                            <div class="tab-content">

                                <div class="tab-pane fade active in">
                                    <form class="form-horizontal" role="form" id="employee-info">
                                        <div class="form-group row row_design">
                                            <div class="col-sm-4">
                                                <label for="CallTimeTxt" class="control-label">Call Time<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-8" data-bind="validationElement: CallTimeTxt">
                                                <input data-bind="value:CallTimeTxt" id="CallTimeTxt" class="form-control" type="text">
                                            </div>
                                        </div>
                                        <div class="form-group row row_design">
                                            <div class="col-sm-4">
                                                <label for="NextFollowUpTxt" class="control-label">FollowUp Time<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-8" data-bind="validationElement: NextFollowUpTxt">
                                                <input data-bind="value:NextFollowUpTxt" id="NextFollowUp" class="form-control" type="text">
                                            </div>
                                        </div>
                                        <div class="form-group row row_design">
                                            <div class="col-sm-4">
                                                <label for="FollowupType" class="control-label">Followup Type<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-8" data-bind="validationElement: FollowupType">
                                                <select class="form-control" data-bind="options:FollowupTypes,optionsValue: 'Id',optionsText:'Name',optionsCaption:'--Select--', value:FollowupType"></select>
                                                @*<input type="text" data-bind="value:Remarks" class="form-control" id="Remarks" placeholder="Remarks">*@
                                            </div>
                                        </div>
                                        <div class="form-group row row_design">
                                            <div class="col-sm-4">
                                                <label for="Remarks" class="control-label">Remarks<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-8" data-bind="validationElement: Remarks">
                                                <input type="text" data-bind="value:Remarks" class="form-control" id="Remarks" placeholder="Remarks">
                                            </div>
                                        </div>
                                        <div class="form-group row row_design">
                                            <div class="col-sm-7">
                                            </div>
                                            <div class="col-sm-5" style="margin-top:10px;">
                                                <button type="submit" data-bind="click:Submit" class="btn btn-success" data-dismiss="modal">Save</button>
                                                <button type="reset" class="btn btn-default" style="background-color:green; color:#fff; border-color:green;">Reset</button>
                                                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Modal was-->

                    </div>
                </div>
            </div>
            <style>
                .no-bottom-margin {
                    margin-bottom: 0 !important;
                }
            </style>
            <div class="modal fade" id="questionnaire" role="dialog">
                <div class="modal-dialog-questionnaire modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 0px 3px;">
                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                            <ul class="nav nav-tabs nav-justified" role="tablist">

                                @*<li><a href="#questionnaire" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-user"></span>Basic Information</a></li>*@
                                <li><a href="#questionnaire" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-check"></span>Questionnaire</a></li>

                            </ul>
                        </div>
                        <div class="modal-body" style="padding: 10px 15px 10px 15px;">
                            <form class="form-horizontal" role="form" id="employee-info">
                                <div>
                                    <ul class="list-unstyled" data-bind="foreach: QuestionAnswerSet">
                                        <li>
                                            <div class="row">

                                                <div class="col-sm-1">
                                                    <span data-bind="text: Sequence" class="pull-right"></span>
                                                </div>
                                                <div class="col-sm-11">
                                                    <div class="row">
                                                        @*<div class="col-sm-1">
                                                                <label for="QuestionText" class="control-label">Question<span class="required">*</span></label>
                                                            </div>*@
                                                        <div class="col-sm-4" data-bind="validationElement: QuestionText">
                                                            <span data-bind="text:QuestionText"></span>
                                                        </div>

                                                        <div class="col-sm-1">
                                                            <label for="Answer" class="control-label">Answer<span class="required">*</span></label>
                                                        </div>
                                                        <div class="col-sm-7" data-bind="validationElement: Answer">
                                                            <input data-bind="value:Answer" id="Answer" class="form-control" type="text">
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="form-group row row_design">
                                    <div class="col-sm-8">

                                    </div>
                                    <div class="col-sm-4" style="float:right">
                                        <button type="submit" data-bind="click:SubmitQuestionnaire" class="btn btn-success" data-dismiss="modal">Save</button>
                                        <button type="reset" class="btn btn-default" style="background-color:green; color:#fff; border-color:green;">Reset</button>
                                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <!--- Edit--->
            <div class="modal fade" id="edit" role="dialog">
                <div class="modal-dialog-edit modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 0px 3px;">
                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                            <ul class="nav nav-tabs nav-justified" role="tablist">
                                <li><a href="#edit" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-pencil"></span>Edit</a></li>
                            </ul>
                        </div>
                        <div class="modal-body" style="padding: 12px 15px 12px 15px;">
                            <div class="tab-content">
                                <form class="form-horizontal" role="form" id="employee-info">
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="Name" class="control-label">Name<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Name">
                                            <input type="text" data-bind="value:Name" class="form-control" placeholder="Name">
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="Phone" class="control-label">Phone<span class="required">*</span></label>
                                        </div>
                                        <div class="col-xs-3" data-bind="validationElement: Phone">
                                            <input type="text" data-bind="value:Phone" class="form-control" placeholder="Phone">

                                        </div>
                                    </div>
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="RegNo" class="control-label">Email<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Email">
                                            <input type="text" data-bind="value:Email" class="form-control" placeholder="Email">
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="RegDate" class="control-label">Address<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Address">
                                            <input type="text" data-bind="value:Address" class="form-control" placeholder="Address">
                                        </div>
                                    </div>
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="ThanaId" class="control-label">Thana<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: ThanaId">
                                            <select data-bind=" options: Thanas, value: ThanaId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'ThanaNameEng'" class=" form-control"></select>
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="DistrictId" class="control-label">District<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: DistrictId">
                                            <select data-bind=" options: Districts, value: DistrictId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control"></select>
                                        </div>

                                    </div>
                                    <div class="form-group row row_design">

                                        <div class="col-sm-3">
                                            <label for="ProductId" class="control-label">Product<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: ProductId">
                                            <select data-bind=" options: Products, value: ProductId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control"></select>
                                        </div>


                                        <div class="col-sm-3">
                                            <label for="LeadType" class="control-label">Lead Type<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: LeadType">
                                            <select data-bind=" options: LeadTypes, value: LeadType, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control"></select>
                                        </div>

                                    </div>

                                    <div class="form-group row row_design">


                                        <div class="col-sm-3">
                                            <label for="OrganizationId" class="control-label">Organization<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: OrganizationId">
                                            <select data-bind=" options: Organizations, value: OrganizationId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control"></select>
                                        </div>



                                        <div class="col-sm-3">
                                            <label for="LeadStatus" class="control-label">LeadStatus<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: LeadStatus">
                                            <select data-bind=" options: LeadStatuses, value: LeadStatus, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control"></select>
                                        </div>


                                    </div>


                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="Designation" class="control-label">Designation<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Designation">
                                            <input type="text" data-bind="value:Designation" class="form-control" placeholder="Designation">
                                        </div>

                                        @*<div class="col-sm-2">
                                                <label for="Age" class="control-label">Age<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-3" data-bind="validationElement: Age">
                                                <input type="text" data-bind="value:Age" class="form-control" placeholder="Age">
                                            </div>*@
                                        <div class="col-sm-3">
                                            <label for="FollowUpCallTimeText" class="control-label">Follow Up Time<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: FollowUpCallTimeText">
                                            <input data-bind="value:FollowUpCallTimeText" id="NextFollowUpEdit" class="form-control" type="text">
                                        </div>
                                    </div>



                                    <div class="form-group row row_design" style="margin-top:10px;">
                                        <div class="col-sm-8">

                                        </div>

                                        <div class="col-sm-4">
                                            <button type="submit" data-bind="click:EditLead" class="btn btn-primary" data-dismiss="modal">Save</button>
                                            <button type="reset" class="btn btn-default" style="background-color:green; color:#fff; border-color:green;">Reset</button>
                                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="details" role="dialog">
                <div class="modal-dialog-details modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 0px 3px;">
                            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                            <ul class="nav nav-tabs nav-justified" role="tablist">

                                @*<li><a href="#questionnaire" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-user"></span>Basic Information</a></li>*@
                                <li><a href="#edit" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-th-list"></span>Detail</a></li>

                            </ul>
                        </div>
                        <div class="modal-body" style="padding: 10px 15px 10px 15px;">
                            <div class="tab-content">
                                <form class="form-horizontal" role="form" id="employee-info">
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="Name" class="control-label">Name<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Name">
                                            <input type="text" data-bind="value:Name" class="form-control" placeholder="Name" readonly />
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="Phone" class="control-label">Phone<span class="required">*</span></label>
                                        </div>
                                        <div class="col-xs-3" data-bind="validationElement: Phone">
                                            <input type="text" data-bind="value:Phone" class="form-control" placeholder="Phone" readonly />

                                        </div>
                                    </div>
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="RegNo" class="control-label">Email<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Email">
                                            <input type="text" data-bind="value:Email" class="form-control" placeholder="Email" readonly />
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="RegDate" class="control-label">Address<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Address">
                                            <input type="text" data-bind="value:Address" class="form-control" placeholder="Address" readonly />
                                        </div>
                                    </div>
                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="ThanaId" class="control-label">Thana<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: ThanaId">
                                            <select data-bind=" options: Thanas, value: ThanaId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'ThanaNameEng'" class=" form-control" disabled></select>
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="DistrictId" class="control-label">District<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: DistrictId">
                                            <select data-bind=" options: Districts, value: DistrictId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control" disabled></select>
                                        </div>

                                    </div>

                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="ProductId" class="control-label">Product<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: ProductId">
                                            <select data-bind=" options: Products, value: ProductId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control" disabled></select>
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="LeadType" class="control-label">Lead Type<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: LeadType">
                                            <select data-bind=" options: LeadTypes, value: LeadType, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control" disabled></select>
                                        </div>

                                    </div>

                                    <div class="form-group row row_design">

                                        <div class="col-sm-3">
                                            <label for="OrganizationId" class="control-label">Organization<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: OrganizationId">
                                            <select data-bind=" options: Organizations, value: OrganizationId, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control" disabled></select>
                                        </div>



                                        <div class="col-sm-3">
                                            <label for="LeadStatus" class="control-label">LeadStatus<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: LeadStatus">
                                            <select data-bind=" options: LeadStatuses, value: LeadStatus, optionsCaption:'Choose One..', optionsValue:'Id', optionsText: 'Name'" class=" form-control" disabled></select>
                                        </div>


                                    </div>


                                    <div class="form-group row row_design">
                                        <div class="col-sm-3">
                                            <label for="Designation" class="control-label">Designation<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: Designation">
                                            <input type="text" data-bind="value:Designation" class="form-control" placeholder="Designation" readonly />
                                        </div>

                                        @*<div class="col-sm-2">
                                                <label for="Age" class="control-label">Age<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-3" data-bind="validationElement: Age">
                                                <input type="text" data-bind="value:Age" class="form-control" placeholder="Age" readonly/>
                                            </div>*@
                                        <div class="col-sm-3">
                                            <label for="FollowUpCallTimeText" class="control-label">Follow Up Time<span class="required">*</span></label>
                                        </div>
                                        <div class="col-sm-3" data-bind="validationElement: FollowUpCallTimeText">
                                            <input data-bind="value:FollowUpCallTimeText" id="NextFollowUpDetails" class="form-control" type="text" readonly />
                                        </div>

                                    </div>

                                    <div class="form-group row row_design" style="margin-top:10px;">
                                        <div class="col-sm-10">

                                        </div>

                                        <div class="col-sm-2">

                                            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                    @*<div class="form-group row row_design">
                                            <div class="col-sm-2">
                                                <label for="FollowUpCallTimeText" class="control-label">Follow Up Time<span class="required">*</span></label>
                                            </div>
                                            <div class="col-sm-3" data-bind="validationElement: FollowUpCallTimeText">
                                                <input data-bind="value:FollowUpCallTimeText" id="NextFollowUpDetails" class="form-control" type="text"readonly/>
                                            </div>
                                            <div class="col-sm-1"></div>

                                        </div>*@

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div id="successModal" class="modal fade" role="dialog">
                    <div class="modal-dialog modal-sm">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                                <h4 class="modal-title">Response</h4>
                            </div>
                            <div class="modal-body" align="center">
                                <p id="successModalText"></p>

                                <button type="button" class="btn btn-success" data-dismiss="modal">Ok</button>

                            </div>
                            <div class="modal-footer">
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </fieldset>
</section>
